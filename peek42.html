<!DOCTYPE html>

<html lang="en" style="font-family: Avenir, sans-serif;">
  <head>
    <meta charset="utf-8" />

    <title>Peek42</title>

    <link rel="stylesheet" href="./monofur.css" />
    <link rel="stylesheet" href="./peek42.css" />
    <script src="./peek42.js"></script>

    <script>
function pageEnv() {
  let snip = (str, n) => str.trimLeft().
    replace(/\s+/gm, ' ').
    substr(0, n) + ((n < str.length) ? '...' : '');

  return [].slice.call(document.scripts).
    map(script => script.src || 'code: ' + snip(script.textContent, 101)).
    join('\n');
}

//Peek42.noop();

pp(document.body, 'log call before DOM ready');

document.addEventListener('DOMContentLoaded', function () {
  p(pageEnv(), 'Environment');
  pp(document.location, 'document.location');
  console.warn('watch out!');
  boom
});
    </script>
  </head>

  <body>
<h1 id="about">Peek42</h1>

<p>Click Peek42 title to scroll the log to the bottom (the beginning). Click it again to scroll to the top (the end). When in the middle of the log, click the title to scroll to the top.
</p>
  </body>
</html>
